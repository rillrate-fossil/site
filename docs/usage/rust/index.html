<!doctype html>
<html lang="en-US">

  
  


  <head>
      <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="preload" as="font" href="/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin>
<link rel="stylesheet" href="https://indestructibletype.com/fonts/Jost.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="/app.css">
<meta name="robots" content="index, follow">
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<title>RillRate - RillRate - Real-time UI for bots and tools.</title>
<meta name="description" content="RillRate - Real-time UI for bots and tools.">

<link rel="canonical" href="/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/doks.png">
<meta name="twitter:title" content="RillRate">
<meta name="twitter:description" content="RillRate - Real-time UI for bots and tools.">

<meta name="twitter:site" content="@">
<meta name="twitter:creator" content="@">

<meta property="og:title" content="RillRate">
<meta property="og:description" content="RillRate - Real-time UI for bots and tools.">
<meta property="og:type" content="website">
<meta property="og:url" content="/">

<meta property="og:image" content="/doks.png"/>
<meta property="og:updated_time" content="2020-10-06T08:47:36+00:00">
<meta property="og:site_name" content="RillRate">

<meta property="article:publisher" content="https://www.facebook.com/">
<meta property="article:author" content="https://www.facebook.com/">
<meta property="og:locale" content="en_US">

<link rel="alternate" type="application/rss&#43;xml" href="/index.xml">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "\/\/rillrate.com\/",
      "name": "RillRate",
      "logo": "\/\/rillrate.com\/logo.png",
      "sameAs": [
        "",
        "",
        "https:\/\/github.com\/rillrate"
      ]
    }
</script>
<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "\/\/rillrate.com\/"
        }]
    }
</script>
<script src="https://js.chargebee.com/v2/chargebee.js" data-cb-site="rillrate"></script>

<meta name="theme-color" content="#fff">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

      
  </head>

  <body class="docs single" style="min-width: 300px;">

  <div class="container-fluid bg-secondary">
    <div class="container">
        <nav class="navbar navbar-light">
                <div class="nav">
                    <a class="navbar-brand fw-bold me-5" href="/">RillRate</a>
                    <a class="nav-link link-dark" href="/#home">Home</a>
                    <a class="nav-link link-dark" href="/#cases">Cases</a>
                    <a class="nav-link link-dark" href="http://docs.rillrate.com">Docs</a>
                    <!--
                    <a class="nav-link link-dark" href="#pricing">Pricing</a>
                    <a class="nav-link link-success" href="#pricing">Hub</a>
                    -->
                </div>
                <div class="nav">
                    <a class="nav-link link-dark" href="https://github.com/rillrate/rillrate" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.75rem" height="1.75rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                    </a>
                    <!--
                    <a class="nav-link link-dark" href="https://rillrate.chargebeeportal.com/portal/v2/" target="_blank">Sign In</a>
                    -->
                </div>
        </nav>
    </div>
</div>



  

<div class="wrap container" role="document">
    <div class="content">

        <div class="row flex-xl-nowrap">
            <div class="col-lg-5 col-xl-4 docs-sidebar">
                <nav class="docs-links" aria-label="Main navigation">
                    
                    
                    
                        
                        <h3><a class="docs-link" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;basics&#x2F;">Basics</a></h3>
                        <ul class="list-unstyled">
                        
                            
                                <li><a class="docs-link" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;basics&#x2F;intro&#x2F;">Introduction</a></li>
                            
                        
                        </ul>
                    
                        
                        <h3><a class="docs-link" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;usage&#x2F;">Usage</a></h3>
                        <ul class="list-unstyled">
                        
                            
                                <li><a class="docs-link active" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;usage&#x2F;rust&#x2F;">Core Rust library</a></li>
                            
                        
                            
                                <li><a class="docs-link" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;usage&#x2F;python&#x2F;">Python bindings</a></li>
                            
                        
                            
                                <li><a class="docs-link" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;usage&#x2F;node&#x2F;">Node.js bindings</a></li>
                            
                        
                        </ul>
                    
                        
                        <h3><a class="docs-link" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;export&#x2F;">Export</a></h3>
                        <ul class="list-unstyled">
                        
                            
                                <li><a class="docs-link" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;export&#x2F;config&#x2F;">Standalone Server</a></li>
                            
                        
                        </ul>
                    

                </nav>
            </div>
            <nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
                <div class="page-links">
                    <h3>On this page</h3>
                    <nav id="TableOfContents">
                        <ul>
                            
                                <li>
                                    <a href="https://rillrate.com/docs/usage/rust/#installation">Installation</a>
                                    
                                </li>
                            
                                <li>
                                    <a href="https://rillrate.com/docs/usage/rust/#activating-a-provider">Activating a provider</a>
                                    
                                        <ul>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#provider">Provider</a></li>
                                            
                                        </ul>
                                    
                                </li>
                            
                                <li>
                                    <a href="https://rillrate.com/docs/usage/rust/#using-tracers">Using tracers</a>
                                    
                                        <ul>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#tracer">Tracer</a></li>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#counter">Counter</a></li>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#gauge">Gauge</a></li>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#pulse">Pulse</a></li>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#histogram">Histogram</a></li>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#dict">Dict</a></li>
                                            
                                                <li><a href="https://rillrate.com/docs/usage/rust/#logger">Logger</a></li>
                                            
                                        </ul>
                                    
                                </li>
                            
                                <li>
                                    <a href="https://rillrate.com/docs/usage/rust/#expansions">Expansions</a>
                                    
                                </li>
                            
                        </ul>
                    </nav>
                </div>

            </nav>
            <main class="docs-content col-lg-11 col-xl-9">
                <h1>Core Rust library</h1>
                <p class="lead"></p>
                <p><strong>RillRate</strong> is available as Rust crate <a href="https://crates.io/crates/rillrate">here</a>.</p>
<p>This is the main implementation of the library and other languages uses this implementations as well.
You can get more details on this page about basic usage of the library.</p>
<h2 id="installation">Installation</h2>
<p>To add it to your Rust application you should add the dependency to your <code>Cargo.toml</code> file.
You can do it using the following command:</p>
<pre data-lang="bash" class="language-bash "><code class="language-bash" data-lang="bash">cargo add -s rillrate
</code></pre>
<p><strong>Note:</strong> <code>-s</code> flags keep your dependencies list sorted. Skip this flag if you have own order of dependencies.</p>
<p>You can also add it directly to <code>[dependencies]</code> section of your <code>Cargo.toml</code> file:</p>
<pre data-lang="toml" class="language-toml "><code class="language-toml" data-lang="toml">[dependencies]
rillrate = &quot;*&quot;
</code></pre>
<p><strong>Note:</strong> Replace asterisk with an actual version of the library. Or the sepcific one that you want to use.</p>
<h2 id="activating-a-provider">Activating a provider</h2>
<p>To start the provider you should <code>install</code> it using the following code:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">use rillrate::RillRate;
use std::error::Error;

fn main() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let _rillrate = RillRate::from_env(&quot;my-app&quot;)?;
    Ok(())
}
</code></pre>
<p>Put it somewhere in <code>main</code> functions before any <code>Tracer</code> created, because on installation
the tracer will be registered in the shared space where tracers can get it to register themselves.</p>
<p>Also as you can see we keep the instance of <code>RillRate</code> tracer, because the worker is alive when
the instance of the tracer exists and gracefully terminates all routines when the instance dropped.</p>
<p><strong>Note:</strong> Remember that <code>RillRate</code> instance can block the thread for a tiny interval while all routines
completely terminated. It’s important to deliver all metrics even if you want to shutdown
the application.</p>
<h3 id="provider">Provider</h3>
<p><code>RillRate</code> is a provider.</p>
<h4 id="methods">Methods</h4>
<h5 id="from-env-name-str-rillrate"><code>from_env(name: &amp;str) -&gt; RillRate</code></h5>
<p>Spawns a new instance of a <code>Provider</code>.</p>
<h2 id="using-tracers">Using tracers</h2>
<p><code>Tracer</code> is a tool with a unique id to deliver metrics to a server. Every <code>Tracer</code>
has a sepcial type of a stream that attached to provider’s type.</p>
<p><code>Tracer</code> can be <strong>active</strong> and <strong>reactive</strong>.</p>
<p><strong>Active</strong> tracers always forwards data to a worker and a server can get a snapshot
of the data any time it needed.</p>
<p><strong>Reactive</strong> tracers counts data internally,
but forward updates to a worker and server only when the stream of the provider has
subscribers. In other words reactive tracers needs less resources, because
they are inactive till they activated by subscribers.</p>
<h3 id="tracer">Tracer</h3>
<p>Every <code>Tracer</code> has methods that you can use to explore some conditions and properties.</p>
<h4 id="methods-1">Methods</h4>
<h5 id="is-active-self-bool"><code>is_active(&amp;self) -&gt; bool</code></h5>
<p>Returns <code>true</code> is the <code>Tracer</code> is active. If a <code>Tracer</code> is <code>active</code> than it always
returns <code>true</code>.</p>
<h5 id="path-self-path"><code>path(&amp;self) -&gt; &amp;Path</code></h5>
<p>Return a reference to a parsed <code>Path</code> of the <code>Tracer</code>.</p>
<h3 id="counter">Counter</h3>
<p><code>Counter</code> just adds all incoming values and represents cumulative sum of them.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">use rillrate::Counter;

let counter = Counter::create(&quot;my.counter&quot;)?;
counter.inc(1.0);
</code></pre>
<h4 id="methods-2">Methods</h4>
<h5 id="create-path-str-result-self-error"><code>create(path: &amp;str) -&gt; Result&lt;Self, Error&gt;</code></h5>
<p>Creates a new instance of <code>Counter</code> with the provided <code>path</code>.</p>
<h5 id="inc-self-delta-f64"><code>inc(&amp;self, delta: f64)</code></h5>
<p>Increments an internal counter with the provided delta that can’t be negative.</p>
<h4 id="rendering">Rendering</h4>
<table class=table><thead><tr><th>RillRate View</th><th>Prometheus</th><th>Graphite</th></tr></thead><tbody>
<tr><td>Panel with number</td><td><code>COUNTER</code></td><td>as <code>f64</code></td></tr>
</tbody></table>
<h3 id="gauge">Gauge</h3>
<p><code>Gauge</code> is a value in a range.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">use rillrate::Gauge;

let gauge = Gauge::create(&quot;my.gauge&quot;, 0.0, 100.0)?;
gauge.set(55.0);
</code></pre>
<h4 id="methods-3">Methods</h4>
<h5 id="create-path-str-min-f64-max-f64-result-self-error"><code>create(path: &amp;str, min: f64, max: f64) -&gt; Result&lt;Self, Error&gt;</code></h5>
<p>Creates a new instance of <code>Gauge</code> with the provided <code>path</code> and the range between <code>min</code> and <code>max</code> values.</p>
<h5 id="set-self-value-f64"><code>set(&amp;self, value: f64)</code></h5>
<p>Set the gauge value in range.</p>
<h4 id="rendering-1">Rendering</h4>
<table class=table><thead><tr><th>RillRate View</th><th>Prometheus</th><th>Graphite</th></tr></thead><tbody>
<tr><td>Panel with gauge</td><td><code>GAUGE</code></td><td>as <code>f64</code></td></tr>
</tbody></table>
<h3 id="pulse">Pulse</h3>
<p><code>Pulse</code> is a frame of values that rendered as a moving chart.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">use rillrate::Pulse;

let pulse = Pulse::create(&quot;my.pulse&quot;)?;
pulse.inc(1.0);
pulse.dec(1.0);
pulse.set(1.23);
</code></pre>
<p>As you can see it doesn’t require to be mutable with <code>mut</code>, because tracers are thread-safe
and designed to be used anywhere in your code without limitations.</p>
<h4 id="methods-4">Methods</h4>
<h5 id="create-path-str-result-self-error-1"><code>create(path: &amp;str) -&gt; Result&lt;Self, Error&gt;</code></h5>
<p>Creates a new instance of <code>Pulse</code> with the provided <code>path</code>.</p>
<h5 id="inc-self-delta-f64-1"><code>inc(&amp;self, delta: f64)</code></h5>
<p>Increments an internal value with the provided delta.</p>
<h5 id="dec-self-delta-f64"><code>dec(&amp;self, delta: f64)</code></h5>
<p>Decrements an internal value with the provided delta.</p>
<h5 id="set-self-value-f64-1"><code>set(&amp;self, value: f64)</code></h5>
<p>Set an internal value.</p>
<h4 id="rendering-2">Rendering</h4>
<table class=table><thead><tr><th>RillRate View</th><th>Prometheus</th><th>Graphite</th></tr></thead><tbody>
<tr><td>Real-time chart</td><td><code>GAUGE</code></td><td>as <code>f64</code></td></tr>
</tbody></table>
<h3 id="histogram">Histogram</h3>
<p><code>Histogram</code> counts values in buckets.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">use rillrate::Histogram;

let histogram = Histogram::create(&quot;my.histogram&quot;, &amp;[10.0, 50.0, 100.0, 250.0])?;
histogram.add(125.0);
</code></pre>
<h4 id="methods-5">Methods</h4>
<h5 id="create-path-str-levels-f64-result-self-error"><code>create(path: &amp;str, levels: &amp;[f64]) -&gt; Result&lt;Self, Error&gt;</code></h5>
<p>Creates a new instance of <code>Histogram</code> with the provided <code>path</code> and <code>levels</code> (buckets).</p>
<h5 id="add-self-value-f64"><code>add(&amp;self, value: f64)</code></h5>
<p>Adds the value to the histogram.</p>
<h4 id="rendering-3">Rendering</h4>
<table class=table><thead><tr><th>RillRate View</th><th>Prometheus</th><th>Graphite</th></tr></thead><tbody>
<tr><td>Panel with histogram</td><td><code>HISTOGRAM</code></td><td>N/A</td></tr>
</tbody></table>
<h3 id="dict">Dict</h3>
<p><code>Dict</code> is a table of key-value pairs.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">use rillrate::Dict;

let dict = Dict::create(&quot;my.dict&quot;)?;
dict.add(125.0);
</code></pre>
<h4 id="methods-6">Methods</h4>
<h5 id="create-path-str-result-self-error-2"><code>create(path: &amp;str) -&gt; Result&lt;Self, Error&gt;</code></h5>
<p>Creates a new instance of <code>Dict</code> with the provided <code>path</code>.</p>
<h5 id="set-self-key-impl-tostring-value-impl-tostring"><code>set(&amp;self, key: impl ToString, value: impl ToString)</code></h5>
<p>Set the value in the dict.</p>
<h4 id="rendering-4">Rendering</h4>
<table class=table><thead><tr><th>RillRate View</th><th>Prometheus</th><th>Graphite</th></tr></thead><tbody>
<tr><td>Table with dict</td><td>N/A</td><td>N/A</td></tr>
</tbody></table>
<h3 id="logger">Logger</h3>
<p><code>Logger</code> represents an ordinary logger with a single level.</p>
<p><code>Logger</code> has only one level of logging. If you want to have multiple levels you
should create multiple loggers and separate them by name. For example if you want
to write logs for module <em>my.module.log</em> in three levels <code>info</code>, <code>warn</code> and <code>error</code> you
can create three loggers with corresponding paths: <em>my.module.log.info</em>,
<em>my.module.log.warn</em> and <em>my.module.log.error</em>.</p>
<p>The beniefit of this approach is that you can activate any level absolutely separately.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">use rillrate::Logger;

let logger = Logger::create(&quot;my.logger&quot;)?;
logger.log(&quot;my text message&quot;);
</code></pre>
<h4 id="methods-7">Methods</h4>
<h5 id="create-path-str-result-self-error-3"><code>create(path: &amp;str) -&gt; Result&lt;Self, Error&gt;</code></h5>
<p>Creates a new instance of <code>Logger</code> with the provided <code>path</code>.</p>
<h5 id="log-self-message-impl-tostring"><code>log(&amp;self, message: impl ToString)</code></h5>
<p>Writes a message and send it to subscribers.</p>
<h4 id="rendering-5">Rendering</h4>
<table class=table><thead><tr><th>RillRate View</th><th>Prometheus</th><th>Graphite</th></tr></thead><tbody>
<tr><td>Row in log-stream</td><td>N/A</td><td>N/A</td></tr>
</tbody></table>
<h2 id="expansions">Expansions</h2>
<p><em>In progress…</em></p>


                <div class="docs-navigation d-flex justify-content-between">
                    
                    
                        
                        
                        
                        
                            
                            
                        
                            
                            
                                
                            
                        
                            
                            
                                
                                
                    
                    
                    <a href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;basics&#x2F;intro&#x2F;">
                        <div class="card my-1">
                            <div class="card-body py-2">
                                    &larr; Introduction
                            </div>
                        </div>
                    </a>
                    

                    
                    
                        
                    
                    
                    <a class="ms-auto" href="https:&#x2F;&#x2F;rillrate.com&#x2F;docs&#x2F;usage&#x2F;python&#x2F;">
                        <div class="card my-1">
                            <div class="card-body py-2">
                                Python bindings &rarr;
                            </div>
                        </div>
                    </a>
                    
                </div>

            </main>
        </div>

    </div>
</div>


  <div class="container-fluid py-3 bg-secondary">
    <div class="container text-muted">
        <footer class="d-flex flex-row justify-content-between">
            <div>© 2021 RillRate OÜ</div>
            <!--<small>RillRate - Real-time UI for bots and tools.</small>-->
            <div class="d-flex flex-row justify-content-between">
                <a class="link link-dark me-3" href="/legal/terms">Terms</a>
                <a class="link link-dark" href="/legal/privacy">Privacy</a>
            </div>
        </footer>
    </div>
</div>


  <!--
  <script src="/main.js" defer></script>
  <script src="/index.js" defer></script>
  -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-203862968-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-203862968-1');
  </script>

  </body>
</html>
